		<div class="content-container">
			<div class="page-toolbar">
				<div class="page-title">{{ 'workflow-editing' | translate }}</div>
				<a class="toolbar-link" [routerLink]="['/workflow/list']"><i class="material-icons">list</i></a>
			</div>
			
			<form id="workflow-form" name="workflowForm" [formGroup]="workflowEditForm">
		
				<div class="workflow-content">
					<div class="item-row" *ngIf="canAssign">
						<div class="item-label">{{ 'workflow-assignto' | translate }}</div>
						<div class="item-content">
							<div class="assign-list" >
								<button class="show-select-dialog" (click)="showAssignSelect()"><i class="material-icons">playlist_add</i></button>
								<span *ngIf="hasNoAssigns">{{ 'workflow-select-assign' | translate }}</span>
								<div class="user-item-box" *ngFor="let item of assignedUsers">
									<span>{{getAssignItemTitle(item)}} </span>
									<button (click)="removeAssign(item.itemIdentity, item.itemType)"><i class="material-icons">close</i></button>
								</div>
								<div class="clear"></div>
							</div>
						</div>
						<div class="clear"></div>
					</div>
					<div class="item-row">
						<div class="item-label">{{ 'workflow-comments' | translate }}</div>
						<div class="item-content">
							<textarea formControlName="comments"></textarea>
						</div>
						<div class="clear"></div>
					</div>
					<div class="item-row">
						<div class="item-label">{{ 'workflow-files' | translate }}</div>
						<div class="item-content file-container">
							<div *ngFor="let file of fileTitles; let fileIndex = index" class="file-row">
								{{fileIndex + 1}}.
								<input type="text" class="file-item file-title" placeholder="Datei Titel" formControlName="file.title"/>
								<input type="file" class="file-item file-file" (change)="fileTitleProgress($event, file, fileIndex)"/>
								<button class="file-action" (click)="removeFile(fileIndex)"><i class="material-icons">delete</i></button>
								<div class="clear"></div>
							</div>
							<div style="margin-top: 20px;">
								<button class="file-action" (click)="addFile()"><i class="material-icons">add</i></button>
								<div class="clear"></div>
							</div>
							
						</div>
						<div class="clear"></div>
					</div>
					<div class="item-row">
						
						<div class="workflow-step-button-bar">
							<button type="button" (click)="save(false)" *ngIf="canSave" [disabled]="workflowEditForm.invalid" class="button-bar-button step-button button-save">
								<span>{{ 'common.save' | translate }}</span>
								<i class="material-icons">save</i>
							</button>
							<button type="button" (click)="save(true)" *ngIf="canDone" [disabled]="workflowEditForm.invalid" class="button-bar-button step-button button-done">
								<span>{{ 'common.savedone' | translate }}</span>
								<i class="material-icons">save</i>
							</button>
							<button type="button" (click)="archive()" *ngIf="canArchive" [disabled]="workflowEditForm.invalid" class="button-bar-button step-button button-archive">
								<span>{{ 'workflow-archive' | translate }}</span>
								<i class="material-icons">save</i>
							</button>
							<span *ngIf="saveMessage !== ''" class="alert alert-success button-bar-alert">{{saveMessage}}</span>
							<div class="clear"></div>
						</div>
						
					</div>
					        				
					<div class="item-row" [innerHTML]="debugData"></div>
				</div>
				
				<div class="workflow-record">
					
					<app-workflow-inlineview [workflow]="viewWorkflowModel"></app-workflow-inlineview>
				</div>
				<div class="clear"></div>
		    </form>
		    
		    <app-select-user [users]="(generalDataObs | async)?.company.users" [departments]="(generalDataObs | async)?.company.departments" 
				[showAssignModal]="showAssignModal" [selectAssign]="selectAssign" (onUsersSelected)="onUsersSelected($event)"></app-select-user>		    		 		

		    		 		
		</div>